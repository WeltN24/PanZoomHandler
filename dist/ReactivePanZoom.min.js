!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ContentSlider=n():t.ContentSlider=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){var e=[],i=!0,r=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done)&&(e.push(s.value),!n||e.length!==n);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(3),a=i(u),h=(e(1),e(4)),l=i(h),f=e(2),c=i(f),_=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.elem=n,this.minScaleFactor=e.minScaleFactor||1,this.maxScaleFactor=e.maxScaleFactor||2.5,this.contentWidth=e.contentWidth||250,this.contentHeight=e.contentHeight||250,this.enableTouchEvents=void 0===e.enableTouchEvents||e.enableTouchEvents,this.enableWheelEvents=void 0===e.enableWheelEvents||e.enableWheelEvents,this.eventEmitter=new a.default,this.scaleFactor=this.oldScaleFactor=1,this.transform=this.oldTransform=[0,0],this.middlePoint=[0,0],this._setupSources(),this._setupWheelHandler(),this._setupTouchHandler()}return s(t,[{key:"_setupSources",value:function(){this.enableWheelEvents&&(this.wheelSource=l.default.fromEvents(this.elem,"wheel"))}},{key:"_setupWheelHandler",value:function(){var n=this,e=this.wheelSource.map(function(t){return(0-t.deltaY)/100}).scan(function(t,e){var i=t-e;return i<n.minScaleFactor?n.minScaleFactor:i>n.maxScaleFactor?n.maxScaleFactor:i},1).skipDuplicates();e.map(function(t){return t>1}).skipDuplicates().observe(function(t){var e=t?"zoom-active":"zoom-inactive";n.eventEmitter.emit(e)}),e.map(function(n){return t._getTransformMatrix(0,0,n,n)}).observe(function(t){n.elem.style.transform=t})}},{key:"_setupTouchHandler",value:function(t){var n=this,e=l.default.fromEvents(this.elem,"touchstart"),i=l.default.fromEvents(this.elem,"touchmove"),r=l.default.fromEvents(this.elem,"touchend");this.scaleFactor=1;var s=e.filter(function(t){return 1===t.touches.length}),u=e.filter(function(t){return 2===t.touches.length}),a=i.filter(function(t){return 1===t.touches.length}),h=i.filter(function(t){return 2===t.touches.length}),f=u.flatMapFirst(function(t){n.oldScaleFactor=n.scaleFactor,n.oldTransform=n.transform,n.elemWidth=n.elem.offsetWidth,n.elemHeight=n.elem.offsetHeight;var e=document.documentElement.clientWidth/window.innerWidth,i=document.documentElement.clientHeight/window.innerHeight;n.pageHasZoom=e>1||i>1;var o=c.default.fromValues(t.touches[0].screenX,t.touches[0].screenY),s=c.default.fromValues(t.touches[1].screenX,t.touches[1].screenY);return n.middlePoint=c.default.getMiddlePoint(o,s),n.zoomDistance=c.default.distance(o,s),h.takeUntilBy(r)}),_=s.filter(function(){return n.zoomIsActive}).flatMapFirst(function(t){return n.elemWidth=n.elem.offsetWidth,n.elemHeight=n.elem.offsetHeight,n.oldTransform=n.transform,n.middlePoint=c.default.fromValues(t.touches[0].screenX,t.touches[0].screenY),a.takeUntilBy(r).filter(function(){return n.zoomIsActive})}),d=_.map(function(t){var e=c.default.fromValues(t.touches[0].screenX,t.touches[0].screenY);return n.transform=c.default.getTransformOffset(n.middlePoint,e,n.oldTransform),t.preventDefault(),t.stopPropagation(),[n.scaleFactor,n.transform]}),v=f.map(function(t){var e=c.default.fromValues(t.touches[0].screenX,t.touches[0].screenY),i=c.default.fromValues(t.touches[1].screenX,t.touches[1].screenY),r=c.default.getMiddlePoint(e,i),o=c.default.distance(e,i);return n.scaleFactor=c.default.getScaleFactor(n.oldScaleFactor,n.zoomDistance,o,n.minScaleFactor,n.maxScaleFactor),n.transform=c.default.getTransformOffset(n.middlePoint,r,n.oldTransform),(o>n.zoomDistance||!n.pageHasZoom)&&(t.preventDefault(),t.stopPropagation()),[n.scaleFactor,n.transform]}).skipDuplicates(),m=v.map(function(t){var n=o(t,1),e=n[0];return 1!==e}).skipDuplicates();r.observe(this._applyTouchEnd.bind(this)),m.observe(this._applyEmitEvent.bind(this));var p=l.default.merge([d,v]).throttle(10).map(function(t){var e=o(t,2),i=e[0],r=e[1];return n.transform=c.default.normalizeTransformOffset(c.default.fromValues(n.elemWidth,n.elemHeight),r,i),[n.scaleFactor,n.transform]});this.zoomFactorProperty=p.map(function(t){return t[0]}).toProperty(function(){return 1}),this.transformProperty=p.map(function(t){return t[1]}).toProperty(function(){return[0,0]}),p.observe(this._applyTransform.bind(this))}},{key:"_applyTouchEnd",value:function(){if(1===this.scaleFactor){this.eventEmitter.emit("zoom-inactive");var n=t._getTransformMatrix(0,0,1,1);this.elem.style.transform=n,this.middlePoint=[0,0]}}},{key:"_applyEmitEvent",value:function(t){this.zoomIsActive=t,this.eventEmitter.emit(t?"zoom-active":"zoom-inactive")}},{key:"_applyTransform",value:function(t){var n=o(t,2);n[0],n[1];this._updateTransformMatrix(this.transform)}},{key:"_handleWheel",value:function(t){this.oldScaleFactor=this.scaleFactor,this.scaleFactor=c.default.getScaleFactor(this.oldScaleFactor,0,t.deltaY,this.minScaleFactor,this.maxScaleFactor),this._updateTransformMatrix(c.default.fromValues(0,0))}},{key:"_updateTransformMatrix",value:function(n){this.elem.style.transform=t._getTransformMatrix(n[0],n[1],this.scaleFactor,this.scaleFactor)}},{key:"on",value:function(t,n){this.eventEmitter.on(t,n)}}],[{key:"_isZoomActive",value:function(t){}},{key:"_getTransformMatrix",value:function(t,n,e,i){return"matrix("+e+", 0, 0, "+i+", "+t+", "+n+")"}}]),t}();n.default=_},function(t,n){"use strict"},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){var e=[],i=!0,r=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done)&&(e.push(s.value),!n||e.length!==n);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=(e(1),function(){function t(){i(this,t)}return o(t,null,[{key:"getMiddlePoint",value:function(n,e){return t.divide(t.add(n,e),[2,2])}},{key:"getScaleFactor",value:function(t,n,e,i,r){var o=t+(e-n)/100;return o<i?i:o>r?r:o}},{key:"getTransformOffset",value:function(n,e,i){return t.add(i,t.substract(e,n))}},{key:"normalizeTransformOffset",value:function(n,e,i){var o=r(n,2),s=o[0],u=o[1],a=s*i,h=u*i,l=(a-s)/2,f=l*-1,c=(h-u)/2,_=c*-1;return e=t.min(e,[l,c]),e=t.max(e,[f,_])}},{key:"divide",value:function(t,n){return[t[0]/n[0],t[1]/n[1]]}},{key:"add",value:function(t,n){return[t[0]+n[0],t[1]+n[1]]}},{key:"scale",value:function(t,n){return[t[0]*n,t[1]*n]}},{key:"substract",value:function(t,n){return[t[0]-n[0],t[1]-n[1]]}},{key:"min",value:function(t,n){return[Math.min(t[0],n[0]),Math.min(t[1],n[1])]}},{key:"max",value:function(t,n){return[Math.max(t[0],n[0]),Math.max(t[1],n[1])]}},{key:"fromValues",value:function(t,n){return[t,n]}},{key:"distance",value:function(t,n){var e=n[0]-t[0],i=n[1]-t[1];return Math.sqrt(e*e+i*i)}}]),t}());n.default=s},function(t,n,e){"use strict";function i(){}function r(t,n,e){this.fn=t,this.context=n,this.once=e||!1}function o(){this._events=new i,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,u="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(u=!1)),o.prototype.eventNames=function(){var t,n,e=[];if(0===this._eventsCount)return e;for(n in t=this._events)s.call(t,n)&&e.push(u?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},o.prototype.listeners=function(t,n){var e=u?u+t:t,i=this._events[e];if(n)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},o.prototype.emit=function(t,n,e,i,r,o){var s=u?u+t:t;if(!this._events[s])return!1;var a,h,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,e),!0;case 4:return l.fn.call(l.context,n,e,i),!0;case 5:return l.fn.call(l.context,n,e,i,r),!0;case 6:return l.fn.call(l.context,n,e,i,r,o),!0}for(h=1,a=new Array(f-1);h<f;h++)a[h-1]=arguments[h];l.fn.apply(l.context,a)}else{var c,_=l.length;for(h=0;h<_;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),f){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,n);break;case 3:l[h].fn.call(l[h].context,n,e);break;case 4:l[h].fn.call(l[h].context,n,e,i);break;default:if(!a)for(c=1,a=new Array(f-1);c<f;c++)a[c-1]=arguments[c];l[h].fn.apply(l[h].context,a)}}return!0},o.prototype.on=function(t,n,e){var i=new r(n,e||this),o=u?u+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(t,n,e){var i=new r(n,e||this,!0),o=u?u+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(t,n,e,r){var o=u?u+t:t;if(!this._events[o])return this;if(!n)return 0===--this._eventsCount?this._events=new i:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==n||r&&!s.once||e&&s.context!==e||(0===--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var a=0,h=[],l=s.length;a<l;a++)(s[a].fn!==n||r&&!s[a].once||e&&s[a].context!==e)&&h.push(s[a]);h.length?this._events[o]=1===h.length?h[0]:h:0===--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var n;return t?(n=u?u+t:t,this._events[n]&&(0===--this._eventsCount?this._events=new i:delete this._events[n])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=u,o.EventEmitter=o,t.exports=o},function(t,n,e){(function(t){/*! Kefir.js v3.6.1
	 *  https://github.com/rpominov/kefir
	 */
!function(t,e){e(n)}(this,function(n){"use strict";function e(t){var n=function(){};return n.prototype=t,new n}function i(t){var n=arguments.length,e=void 0,i=void 0;for(e=1;e<n;e++)for(i in arguments[e])t[i]=arguments[e][i];return t}function r(t,n){var r=arguments.length,o=void 0;for(t.prototype=e(n.prototype),t.prototype.constructor=t,o=2;o<r;o++)i(t.prototype,arguments[o]);return t}function o(t,n){var e=void 0,i=void 0,r=void 0,o=void 0;if(0===t.length)return n;if(0===n.length)return t;for(o=0,e=new Array(t.length+n.length),i=t.length,r=0;r<i;r++,o++)e[o]=t[r];for(i=n.length,r=0;r<i;r++,o++)e[o]=n[r];return e}function s(t,n){var e=t.length,i=void 0;for(i=0;i<e;i++)if(t[i]===n)return i;return-1}function u(t,n){var e=t.length,i=void 0;for(i=0;i<e;i++)if(n(t[i]))return i;return-1}function a(t){var n=t.length,e=new Array(n),i=void 0;for(i=0;i<n;i++)e[i]=t[i];return e}function h(t,n){var e=t.length,i=void 0,r=void 0,o=void 0;if(n>=0&&n<e){if(1===e)return[];for(i=new Array(e-1),r=0,o=0;r<e;r++)r!==n&&(i[o]=t[r],o++);return i}return t}function l(t,n){var e=t.length,i=new Array(e),r=void 0;for(r=0;r<e;r++)i[r]=n(t[r]);return i}function f(t,n){var e=t.length,i=void 0;for(i=0;i<e;i++)n(t[i])}function c(t,n){var e=t.length,i=void 0;for(i=0;i<e;i++)t[i]=n}function _(t,n){return s(t,n)!==-1}function d(t,n,e){var i=Math.min(e,t.length+1),r=t.length-i+1,o=new Array(i),s=void 0;for(s=r;s<i;s++)o[s-r]=t[s];return o[i-1]=n,o}function v(t,n,e){t===hn?n(e):t===e.type&&(t===un||t===an?n(e.value):n())}function m(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function p(){this._dispatcher=new m,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function y(){p.call(this)}function g(){p.call(this),this._currentEvent=null}function b(){return ln}function E(t){function n(t,n){var e=this;y.call(this),this._wait=t,this._intervalId=null,this._$onTick=function(){return e._onTick()},this._init(n)}return r(n,y,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){y.prototype._clear.call(this),this._$onTick=null,this._free()}},t),n}function w(t,n){return new fn(t,{x:n})}function S(t,n){return new cn(t,{x:n})}function A(t,n){return 0===n.length?b():new _n(t,{xs:n})}function V(t,n){return new dn(t,{fn:n})}function T(t){function n(n){return t._emitValue(n),t._active}function e(n){return t._emitError(n),t._active}function i(){return t._emitEnd(),t._active}function r(n){return t._emit(n.type,n.value),t._active}return{value:n,error:e,end:i,event:r,emit:n,emitEvent:r}}function x(t,n){return new vn(t,{fn:n})}function k(t){y.call(this),this._fn=t,this._unsubscribe=null}function C(t){return new k(t)}function O(t){var n=!1;return C(function(e){n||(t(function(t){e.emit(t),e.end()}),n=!0)}).setName("fromCallback")}function $(t){var n=!1;return C(function(e){n||(t(function(t,n){t?e.error(t):e.emit(n),e.end()}),n=!0)}).setName("fromNodeCallback")}function P(t,n){switch(n){case 0:return function(){return t()};case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(null,n)}}}function I(t,n,e){var i=e?e.length:0;if(null==n)switch(i){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);default:return t.apply(null,e)}else switch(i){case 0:return t.call(n);default:return t.apply(n,e)}}function L(t,n,e){return C(function(i){var r=e?function(){i.emit(I(e,this,arguments))}:function(t){i.emit(t)};return t(r),function(){return n(r)}}).setName("fromSubUnsub")}function M(t,n,e){for(var i=void 0,r=void 0,o=0;o<mn.length;o++)if("function"==typeof t[mn[o][0]]&&"function"==typeof t[mn[o][1]]){i=mn[o][0],r=mn[o][1];break}if(void 0===i)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return L(function(e){return t[i](n,e)},function(e){return t[r](n,e)},e).setName("fromEvents")}function H(t){this._currentEvent={type:"value",value:t,current:!0}}function F(t){return new H(t)}function W(t){this._currentEvent={type:"error",value:t,current:!0}}function D(t){return new W(t)}function j(t,n){return function(e,i){var r=this;t.call(this),this._source=e,this._name=e._name+"."+n,this._init(i),this._$handleAny=function(t){return r._handleAny(t)}}}function N(t){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case un:return this._handleValue(t.value);case an:return this._handleError(t.value);case sn:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function q(t,n){var e=j(y,t);return r(e,y,N(y),n),e}function B(t,n){var e=j(g,t);return r(e,g,N(g),n),e}function z(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(null!==n&&"function"!=typeof n)throw new Error("You should call toProperty() with a function or no arguments.");return new pn(t,{fn:n})}function Y(t){return new yn(t)}function U(t){var n=!1,e=C(function(e){if(!n){var i=function(t){e.emit(t),e.end()},r=function(t){e.error(t),e.end()},o=t.then(i,r);o&&"function"==typeof o.done&&o.done(),n=!0}});return z(e,null).setName("fromPromise")}function Q(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}function X(t){var n=arguments.length<=1||void 0===arguments[1]?Q():arguments[1],e=null;return new n(function(n,i){t.onAny(function(t){t.type===sn&&null!==e?((e.type===un?n:i)(e.value),e=null):e=t})})}function Z(t,n){return n={exports:{}},t(n,n.exports),n.exports}function K(t){var n=t[Vn]?t[Vn]():t;return C(function(t){var e=n.subscribe({error:function(n){t.error(n),t.end()},next:function(n){t.emit(n)},complete:function(){t.end()}});return e.unsubscribe?function(){e.unsubscribe()}:e}).setName("fromESObservable")}function G(t){this._observable=t.takeErrors(1)}function J(){return new G(this)}function R(t){for(var n=void 0,e=0;e<t.length;e++)void 0!==t[e]&&(void 0===n||n.index<t[e].index)&&(n=t[e]);return n.error}function tt(t,n,e){var i=this;y.call(this),this._activeCount=t.length,this._sources=o(t,n),this._combinator=e?P(e,this._sources.length):function(t){return t},this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),c(this._latestValues,on),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var r=function(t){i._$handlers.push(function(n){return i._handleAny(t,n)})},s=0;s<this._sources.length;s++)r(s)}function nt(t){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],e=arguments[2];return"function"==typeof n&&(e=n,n=[]),0===t.length?b():new tt(t,n,e)}function et(t){var n=arguments.length<=1||void 0===arguments[1]?$n:arguments[1];return new(t._ofSameType(Cn,On))(t,{fn:n})}function it(t){var n=arguments.length<=1||void 0===arguments[1]?Mn:arguments[1];return new(t._ofSameType(In,Ln))(t,{fn:n})}function rt(t,n){return new(t._ofSameType(Fn,Wn))(t,{n:n})}function ot(t,n){return new(t._ofSameType(jn,Nn))(t,{n:n})}function st(t){var n=arguments.length<=1||void 0===arguments[1]?Yn:arguments[1];return new(t._ofSameType(Bn,zn))(t,{fn:n})}function ut(t){return new(t._ofSameType(Qn,Xn))(t)}function at(t,n){return new(t._ofSameType(Kn,Gn))(t,{n:n})}function ht(t){var n=arguments.length<=1||void 0===arguments[1]?ne:arguments[1];return new(t._ofSameType(Rn,te))(t,{fn:n})}function lt(t){var n=arguments.length<=1||void 0===arguments[1]?oe:arguments[1];return new(t._ofSameType(ie,re))(t,{fn:n})}function ft(t,n){return[t,n]}function ct(t,n){var e=arguments.length<=2||void 0===arguments[2]?on:arguments[2];return new(t._ofSameType(ue,ae))(t,{fn:n||ft,seed:e})}function _t(t,n){var e=arguments.length<=2||void 0===arguments[2]?on:arguments[2];return new he(t,{fn:n,seed:e})}function dt(t){var n=arguments.length<=1||void 0===arguments[1]?ce:arguments[1];return new fe(t,{fn:n})}function vt(t,n){return new(t._ofSameType(ve,me))(t,{wait:n})}function mt(t,n){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=e.leading,r=void 0===i||i,o=e.trailing,s=void 0===o||o;return new(t._ofSameType(ge,be))(t,{wait:n,leading:r,trailing:s})}function pt(t,n){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=e.immediate,r=void 0!==i&&i;return new(t._ofSameType(we,Se))(t,{wait:n,immediate:r})}function yt(t){var n=arguments.length<=1||void 0===arguments[1]?xe:arguments[1];return new(t._ofSameType(Ve,Te))(t,{fn:n})}function gt(t){var n=arguments.length<=1||void 0===arguments[1]?$e:arguments[1];return new(t._ofSameType(Ce,Oe))(t,{fn:n})}function bt(t){return new(t._ofSameType(Ie,Le))(t)}function Et(t){return new(t._ofSameType(He,Fe))(t)}function wt(t){return new(t._ofSameType(De,je))(t)}function St(t,n){return new(t._ofSameType(qe,Be))(t,{fn:n})}function At(t,n){var e=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new(t._ofSameType(Ye,Ue))(t,{min:e,max:n})}function Vt(t,n){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=e.flushOnEnd,r=void 0===i||i;return new(t._ofSameType(Xe,Ze))(t,{fn:n||Ke,flushOnEnd:r})}function Tt(t,n){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=e.flushOnEnd,r=void 0===i||i;return new(t._ofSameType(Je,Re))(t,{count:n,flushOnEnd:r})}function xt(t,n,e){var i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],r=i.flushOnEnd,o=void 0===r||r;return new(t._ofSameType(ni,ei))(t,{wait:n,count:e,flushOnEnd:o})}function kt(t){return{"@@transducer/step":function(n,e){return t._emitValue(e),null},"@@transducer/result":function(){return t._emitEnd(),null}}}function Ct(t,n){return new(t._ofSameType(ri,oi))(t,{transducer:n})}function Ot(t,n){return new(t._ofSameType(ui,ai))(t,{fn:n})}function $t(t,n){var e=this;y.call(this),this._buffers=l(t,function(t){return hi(t)?a(t):[]}),this._sources=l(t,function(t){return hi(t)?b():t}),this._combinator=n?P(n,this._sources.length):function(t){return t},this._aliveCount=0,this._$handlers=[];for(var i=function(t){e._$handlers.push(function(n){return e._handleAny(t,n)})},r=0;r<this._sources.length;r++)i(r)}function Pt(t,n){return 0===t.length?b():new $t(t,n)}function It(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=n.queueLim,i=void 0===e?0:e,r=n.concurLim,o=void 0===r?-1:r,s=n.drop,u=void 0===s?"new":s;y.call(this),this._queueLim=i<0?-1:i,this._concurLim=o<0?-1:o,this._drop=u,this._queue=[],this._curSources=[],this._$handleSubAny=function(n){return t._handleSubAny(n)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function Lt(t){It.call(this),this._addAll(t),this._initialised=!0}function Mt(t){return 0===t.length?b():new Lt(t)}function Ht(t){var n=this;y.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(t){return n._handleAny(t)}}function Ft(t){return new Ht(t)}function Wt(t){return Ft(function(n){return t.length>n&&t[n]}).setName("concat")}function Dt(){It.call(this)}function jt(t,n,e){var i=this;It.call(this,e),this._source=t,this._fn=n,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(t){return i._handleMain(t)}}function Nt(t,n){jt.call(this,t,n)}function qt(t,n){return function(e,i,r){var o=this;t.call(this),this._primary=e,this._secondary=i,this._name=e._name+"."+n,this._lastSecondary=on,this._$handleSecondaryAny=function(t){return o._handleSecondaryAny(t)},this._$handlePrimaryAny=function(t){return o._handlePrimaryAny(t)},this._init(r)}}function Bt(t){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(t){this._emitValue(t)},_handlePrimaryError:function(t){this._emitError(t)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t){this._emitError(t)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case un:return this._handlePrimaryValue(t.value);case an:return this._handlePrimaryError(t.value);case sn:return this._handlePrimaryEnd(t.value)}},_handleSecondaryAny:function(t){switch(t.type){case un:return this._handleSecondaryValue(t.value);case an:return this._handleSecondaryError(t.value);case sn:this._handleSecondaryEnd(t.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){t.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function zt(t,n){var e=qt(y,t);return r(e,y,Bt(y),n),e}function Yt(t,n){var e=qt(g,t);return r(e,g,Bt(g),n),e}function Ut(t,n){return new(t._ofSameType(ci,_i))(t,n)}function Qt(t,n,e){var i=e?function(t,n){return e(n,t)}:di;return nt([n],[t],i).setName(t,"sampledBy")}function Xt(t,n){return new(t._ofSameType(mi,pi))(t,n)}function Zt(t,n){return new(t._ofSameType(gi,bi))(t,n)}function Kt(t,n,e){return new(t._ofSameType(wi,Si))(t,n,e)}function Gt(t,n,e){return new(t._ofSameType(Vi,Ti))(t,n,e)}function Jt(t,n){var e=Mt([et(t,ki),et(n,xi)]);return e=lt(e),e=z(e,xi),e.setName(t,"awaiting")}function Rt(t){var n=arguments.length<=1||void 0===arguments[1]?Pi:arguments[1];return new(t._ofSameType(Oi,$i))(t,{fn:n})}function tn(t){var n=arguments.length<=1||void 0===arguments[1]?Hi:arguments[1];return new(t._ofSameType(Li,Mi))(t,{fn:n})}function nn(t){return new(t._ofSameType(Wi,Di))(t)}function en(){Ni=!1}function rn(t){if(Ni&&console&&"function"==typeof console.warn){var n="\nHere is an Error object for you containing the call stack:";console.warn(t,n,new Error)}}var on=["<nothing>"],sn="end",un="value",an="error",hn="any";i(m.prototype,{add:function(t,n){return this._items=o(this._items,[{type:t,fn:n}]),this._items.length},remove:function(t,n){var e=u(this._items,function(e){return e.type===t&&e.fn===n});return 0!==this._inLoop&&e!==-1&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[e])),this._items=h(this._items,e),this._items.length},addSpy:function(t){return this._spies=o(this._spies,[t]),this._spies.length},removeSpy:function(t){return this._spies=h(this._spies,this._spies.indexOf(t)),this._spies.length},dispatch:function(t){this._inLoop++;for(var n=0,e=this._spies;null!==this._spies&&n<e.length;n++)e[n](t);for(var i=0,r=this._items;i<r.length&&null!==this._items;i++)null!==this._removedItems&&_(this._removedItems,r[i])||v(r[i].type,r[i].fn,t);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),i(p.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,n){switch(t){case un:return this._emitValue(n);case an:return this._emitError(n);case sn:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:un,value:t})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:an,value:t})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:sn}),this._clear())},_on:function(t,n){return this._alive?(this._dispatcher.add(t,n),this._setActive(!0)):v(t,n,{type:sn}),this},_off:function(t,n){if(this._alive){var e=this._dispatcher.remove(t,n);0===e&&this._setActive(!1)}return this},onValue:function(t){return this._on(un,t)},onError:function(t){return this._on(an,t)},onEnd:function(t){return this._on(sn,t)},onAny:function(t){return this._on(hn,t)},offValue:function(t){return this._off(un,t)},offError:function(t){return this._off(an,t)},offEnd:function(t){return this._off(sn,t)},offAny:function(t){return this._off(hn,t)},observe:function(t,n,e){var i=this,r=!1,o=t&&"function"!=typeof t?t:{value:t,error:n,end:e},s=function(t){t.type===sn&&(r=!0),t.type===un&&o.value?o.value(t.value):t.type===an&&o.error?o.error(t.value):t.type===sn&&o.end&&o.end(t.value)};return this.onAny(s),{unsubscribe:function(){r||(i.offAny(s),r=!0)},get closed(){return r}}},_ofSameType:function(t,n){return t.prototype.getType()===this.getType()?t:n},setName:function(t,n){return this._name=n?t._name+"."+n:t,this},log:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0],n=void 0,e=function(e){var i="<"+e.type+(n?":current":"")+">";e.type===sn?console.log(t,i):console.log(t,i,e.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:e})),n=!0,this.onAny(e),n=!1,this},offLog:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0];if(this._logHandlers){var n=u(this._logHandlers,function(n){return n.name===t});n!==-1&&(this.offAny(this._logHandlers[n].handler),this._logHandlers.splice(n,1))}return this},spy:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0],n=function(n){var e="<"+n.type+">";n.type===sn?console.log(t,e):console.log(t,e,n.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:t,handler:n}),this._dispatcher.addSpy(n)),this},offSpy:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0];if(this._spyHandlers){var n=u(this._spyHandlers,function(n){return n.name===t});n!==-1&&(this._dispatcher.removeSpy(this._spyHandlers[n].handler),this._spyHandlers.splice(n,1))}return this}}),p.prototype.toString=function(){return"["+this._name+"]"},r(y,p,{_name:"stream",getType:function(){return"stream"}}),r(g,p,{_name:"property",_emitValue:function(t){this._alive&&(this._currentEvent={type:un,value:t},this._activating||this._dispatcher.dispatch({type:un,value:t}))},_emitError:function(t){this._alive&&(this._currentEvent={type:an,value:t},this._activating||this._dispatcher.dispatch({type:an,value:t}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:sn}),this._clear())},_on:function(t,n){return this._alive&&(this._dispatcher.add(t,n),this._setActive(!0)),null!==this._currentEvent&&v(t,n,this._currentEvent),this._alive||v(t,n,{type:sn}),this},getType:function(){return"property"}});var ln=new y;ln._emitEnd(),ln._name="never";var fn=E({_name:"later",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),cn=E({_name:"interval",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),_n=E({_name:"sequentially",_init:function(t){var n=t.xs;this._xs=a(n)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),dn=E({_name:"fromPoll",_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}}),vn=E({_name:"withInterval",_init:function(t){var n=t.fn;this._fn=n,this._emitter=T(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var t=this._fn;t(this._emitter)}});r(k,y,{_name:"stream",_onActivation:function(){var t=this._fn,n=t(T(this));this._unsubscribe="function"==typeof n?n:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){y.prototype._clear.call(this),this._fn=null}});var mn=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];r(H,g,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),r(W,g,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var pn=B("toProperty",{_init:function(t){var n=t.fn;this._getInitialCurrent=n},_onActivation:function(){if(null!==this._getInitialCurrent){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}}),yn=q("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}}),gn="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},bn=Z(function(t,n){function e(t){var n,e=t.Symbol;return"function"==typeof e?e.observable?n=e.observable:(n=e("observable"),e.observable=n):n="@@observable",n}Object.defineProperty(n,"__esModule",{value:!0}),n.default=e}),En=bn&&"object"==typeof bn&&"default"in bn?bn.default:bn,wn=Z(function(t,n){function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=En,r=e(i),o=void 0;"undefined"!=typeof gn?o=gn:"undefined"!=typeof window&&(o=window);var s=(0,r.default)(o);n.default=s}),Sn=wn&&"object"==typeof wn&&"default"in wn?wn.default:wn,An=Z(function(t){t.exports=Sn}),Vn=An&&"object"==typeof An&&"default"in An?An.default:An;i(G.prototype,{subscribe:function(t,n,e){var i=this,r="function"==typeof t?{next:t,error:n,complete:e}:t,o=function(t){t.type===sn&&(s=!0),t.type===un&&r.next?r.next(t.value):t.type===an&&r.error?r.error(t.value):t.type===sn&&r.complete&&r.complete(t.value)};this._observable.onAny(o);var s=!1,u={unsubscribe:function(){s=!0,i._observable.offAny(o)},get closed(){return s}};return u}}),G.prototype[Vn]=function(){return this},r(tt,y,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var t=this._activeCount;t<this._sources.length;t++)this._sources[t].onAny(this._$handlers[t]);for(var n=0;n<this._activeCount;n++)this._sources[n].onAny(this._$handlers[n]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var t=this._sources.length,n=void 0;for(n=0;n<t;n++)this._sources[n].offAny(this._$handlers[n])},_emitIfFull:function(){for(var t=!0,n=!1,e=this._latestValues.length,i=new Array(e),r=new Array(e),o=0;o<e;o++)i[o]=this._latestValues[o],r[o]=this._latestErrors[o],i[o]===on&&(t=!1),void 0!==r[o]&&(n=!0);if(t){var s=this._combinator;this._emitValue(s(i))}n&&this._emitError(R(r))},_handleAny:function(t,n){n.type===un||n.type===an?(n.type===un&&(this._latestValues[t]=n.value,this._latestErrors[t]=void 0),n.type===an&&(this._latestValues[t]=on,this._latestErrors[t]={index:this._latestErrorIndex++,error:n.value}),t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):t<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){y.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var Tn={empty:function(){return b()},concat:function(t,n){return t.merge(n)},of:function(t){return F(t)},map:function(t,n){return n.map(t)},bimap:function(t,n,e){return e.mapErrors(t).map(n)},ap:function(t,n){return nt([t,n],function(t,n){return t(n)})},chain:function(t,n){return n.flatMap(t)}},xn=Object.freeze({Observable:Tn}),kn={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;this._emitValue(n(t))}},Cn=q("map",kn),On=B("map",kn),$n=function(t){return t},Pn={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;n(t)&&this._emitValue(t)}},In=q("filter",Pn),Ln=B("filter",Pn),Mn=function(t){return t},Hn={_init:function(t){var n=t.n;this._n=n,n<=0&&this._emitEnd()},_handleValue:function(t){this._n--,this._emitValue(t),0===this._n&&this._emitEnd()}},Fn=q("take",Hn),Wn=B("take",Hn),Dn={_init:function(t){var n=t.n;this._n=n,n<=0&&this._emitEnd()},_handleError:function(t){this._n--,this._emitError(t),0===this._n&&this._emitEnd()}},jn=q("takeErrors",Dn),Nn=B("takeErrors",Dn),qn={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;n(t)?this._emitValue(t):this._emitEnd()}},Bn=q("takeWhile",qn),zn=B("takeWhile",qn),Yn=function(t){return t},Un={_init:function(){this._lastValue=on},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==on&&this._emitValue(this._lastValue),this._emitEnd()}},Qn=q("last",Un),Xn=B("last",Un),Zn={_init:function(t){var n=t.n;this._n=Math.max(0,n)},_handleValue:function(t){0===this._n?this._emitValue(t):this._n--}},Kn=q("skip",Zn),Gn=B("skip",Zn),Jn={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;null===this._fn||n(t)||(this._fn=null),null===this._fn&&this._emitValue(t)}},Rn=q("skipWhile",Jn),te=B("skipWhile",Jn),ne=function(t){return t},ee={_init:function(t){var n=t.fn;this._fn=n,this._prev=on},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var n=this._fn;this._prev!==on&&n(this._prev,t)||(this._prev=t,this._emitValue(t))}},ie=q("skipDuplicates",ee),re=B("skipDuplicates",ee),oe=function(t,n){return t===n},se={_init:function(t){var n=t.fn,e=t.seed;this._fn=n,this._prev=e},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==on){var n=this._fn;this._emitValue(n(this._prev,t))}this._prev=t}},ue=q("diff",se),ae=B("diff",se),he=B("scan",{_init:function(t){var n=t.fn,e=t.seed;this._fn=n,this._seed=e,e!==on&&this._emitValue(e)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var n=this._fn;null===this._currentEvent||this._currentEvent.type===an?this._emitValue(this._seed===on?t:n(this._seed,t)):this._emitValue(n(this._currentEvent.value,t))}}),le={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){for(var n=this._fn,e=n(t),i=0;i<e.length;i++)this._emitValue(e[i])}},fe=q("flatten",le),ce=function(t){return t},_e={},de={_init:function(t){var n=this,e=t.wait;this._wait=Math.max(0,e),this._buff=[],this._$shiftBuff=function(){var t=n._buff.shift();t===_e?n._emitEnd():n._emitValue(t)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(_e),setTimeout(this._$shiftBuff,this._wait))}},ve=q("delay",de),me=B("delay",de),pe=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},ye={_init:function(t){var n=this,e=t.wait,i=t.leading,r=t.trailing;this._wait=Math.max(0,e),this._leading=i,this._trailing=r,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return n._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t){if(this._activating)this._emitValue(t);else{var n=pe();0!==this._lastCallTime||this._leading||(this._lastCallTime=n);var e=this._wait-(n-this._lastCallTime);e<=0?(this._cancelTrailing(),this._lastCallTime=n,this._emitValue(t)):this._trailing&&(this._cancelTrailing(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,e))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?pe():0,this._endLater&&this._emitEnd()}},ge=q("throttle",ye),be=B("throttle",ye),Ee={_init:function(t){var n=this,e=t.wait,i=t.immediate;this._wait=Math.max(0,e),this._immediate=i,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return n._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._lastAttempt=pe(),this._immediate&&!this._timeoutId&&this._emitValue(t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var t=pe()-this._lastAttempt;t<this._wait&&t>=0?this._timeoutId=setTimeout(this._$later,this._wait-t):(this._timeoutId=null,this._immediate||(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},we=q("debounce",Ee),Se=B("debounce",Ee),Ae={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn;this._emitError(n(t))}},Ve=q("mapErrors",Ae),Te=B("mapErrors",Ae),xe=function(t){return t},ke={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn;n(t)&&this._emitError(t)}},Ce=q("filterErrors",ke),Oe=B("filterErrors",ke),$e=function(t){return t},Pe={_handleValue:function(){}},Ie=q("ignoreValues",Pe),Le=B("ignoreValues",Pe),Me={_handleError:function(){}},He=q("ignoreErrors",Me),Fe=B("ignoreErrors",Me),We={_handleEnd:function(){}},De=q("ignoreEnd",We),je=B("ignoreEnd",We),Ne={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleEnd:function(){var t=this._fn;this._emitValue(t()),this._emitEnd()}},qe=q("beforeEnd",Ne),Be=B("beforeEnd",Ne),ze={_init:function(t){var n=t.min,e=t.max;this._max=e,this._min=n,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t){this._buff=d(this._buff,t,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},Ye=q("slidingWindow",ze),Ue=B("slidingWindow",ze),Qe={_init:function(t){var n=t.fn,e=t.flushOnEnd;this._fn=n,this._flushOnEnd=e,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t);var n=this._fn;n(t)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Xe=q("bufferWhile",Qe),Ze=B("bufferWhile",Qe),Ke=function(t){return t},Ge={_init:function(t){var n=t.count,e=t.flushOnEnd;this._count=n,this._flushOnEnd=e,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Je=q("bufferWithCount",Ge),Re=B("bufferWithCount",Ge),ti={_init:function(t){var n=this,e=t.wait,i=t.count,r=t.flushOnEnd;this._wait=e,this._count=i,this._flushOnEnd=r,this._intervalId=null,this._$onTick=function(){return n._flush()},this._buff=[]},_free:function(){this._$onTick=null,
this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},ni=q("bufferWithTimeOrCount",ti),ei=B("bufferWithTimeOrCount",ti),ii={_init:function(t){var n=t.transducer;this._xform=n(kt(this))},_free:function(){this._xform=null},_handleValue:function(t){null!==this._xform["@@transducer/step"](null,t)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},ri=q("transduce",ii),oi=B("transduce",ii),si={_init:function(t){var n=t.fn;this._handler=n,this._emitter=T(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._handler(this._emitter,t)}},ui=q("withHandler",si),ai=B("withHandler",si),hi=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};r($t,y,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var t=this._sources.length;this._aliveCount=t;for(var n=0;n<t&&this._active;n++)this._sources[n].onAny(this._$handlers[n])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._$handlers[t])},_emit:function(){for(var t=new Array(this._buffers.length),n=0;n<this._buffers.length;n++)t[n]=this._buffers[n].shift();var e=this._combinator;this._emitValue(e(t))},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(0===this._buffers[t].length)return!1;return!0},_handleAny:function(t,n){n.type===un&&(this._buffers[t].push(n.value),this._isFull()&&this._emit()),n.type===an&&this._emitError(n.value),n.type===sn&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){y.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var li=function(t){return t};r(It,y,{_name:"abstractPool",_add:function(t,n){n=n||li,this._concurLim===-1||this._curSources.length<this._concurLim?this._addToCur(n(t)):this._queueLim===-1||this._queue.length<this._queueLim?this._addToQueue(n(t)):"old"===this._drop&&(this._removeOldest(),this._add(t,n))},_addAll:function(t){var n=this;f(t,function(t){return n._add(t)})},_remove:function(t){this._removeCur(t)===-1&&this._removeQueue(t)},_addToQueue:function(t){this._queue=o(this._queue,[t])},_addToCur:function(t){if(this._active){if(!t._alive)return void(t._currentEvent&&this._emit(t._currentEvent.type,t._currentEvent.value));this._currentlyAdding=t,t.onAny(this._$handleSubAny),this._currentlyAdding=null,t._alive&&(this._curSources=o(this._curSources,[t]),this._active&&this._subToEnd(t))}else this._curSources=o(this._curSources,[t])},_subToEnd:function(t){var n=this,e=function(){return n._removeCur(t)};this._$endHandlers.push({obs:t,handler:e}),t.onEnd(e)},_subscribe:function(t){t.onAny(this._$handleSubAny),this._active&&this._subToEnd(t)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var n=u(this._$endHandlers,function(n){return n.obs===t});n!==-1&&(t.offEnd(this._$endHandlers[n].handler),this._$endHandlers.splice(n,1))},_handleSubAny:function(t){t.type===un?this._emitValue(t.value):t.type===an&&this._emitError(t.value)},_removeQueue:function(t){var n=s(this._queue,t);return this._queue=h(this._queue,n),n},_removeCur:function(t){this._active&&this._unsubscribe(t);var n=s(this._curSources,t);return this._curSources=h(this._curSources,n),n!==-1&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),n},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=a(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var t=0,n=this._curSources;t<n.length&&this._active;t++)this._subscribe(n[t])},_onDeactivation:function(){for(var t=0,n=this._curSources;t<n.length;t++)this._unsubscribe(n[t]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){y.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),r(Lt,It,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),r(Ht,y,{_name:"repeat",_handleAny:function(t){t.type===sn?(this._source=null,this._getSource()):this._emit(t.type,t.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var t=this._generator;null===this._source&&this._alive&&this._active;)this._source=t(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){y.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}}),r(Dt,It,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}}),r(jt,It,{_onActivation:function(){It.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){It.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(t){if(t.type===un){var n=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;n||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===an&&this._emitError(t.value),t.type===sn&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){It.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),r(Nt,jt,{_handleMain:function(t){if(t.type===an){var n=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;n||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===un&&this._emitValue(t.value),t.type===sn&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var fi={_handlePrimaryValue:function(t){this._lastSecondary!==on&&this._lastSecondary&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary!==on&&this._lastSecondary||this._emitEnd()}},ci=zt("filterBy",fi),_i=Yt("filterBy",fi),di=function(t,n){return n},vi={_handlePrimaryValue:function(t){this._lastSecondary!==on&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary===on&&this._emitEnd()}},mi=zt("skipUntilBy",vi),pi=Yt("skipUntilBy",vi),yi={_handleSecondaryValue:function(){this._emitEnd()}},gi=zt("takeUntilBy",yi),bi=Yt("takeUntilBy",yi),Ei={_init:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.flushOnEnd,e=void 0===n||n;this._buff=[],this._flushOnEnd=e},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},wi=zt("bufferBy",Ei),Si=Yt("bufferBy",Ei),Ai={_init:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.flushOnEnd,e=void 0===n||n,i=t.flushOnChange,r=void 0!==i&&i;this._buff=[],this._flushOnEnd=e,this._flushOnChange=r},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(t){this._buff.push(t),this._lastSecondary===on||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==on&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(t){this._flushOnChange&&!t&&this._flush(),this._lastSecondary=t}},Vi=zt("bufferWhileBy",Ai),Ti=Yt("bufferWhileBy",Ai),xi=function(){return!1},ki=function(){return!0},Ci={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn,e=n(t);e.convert?this._emitError(e.error):this._emitValue(t)}},Oi=q("valuesToErrors",Ci),$i=B("valuesToErrors",Ci),Pi=function(t){return{convert:!0,error:t}},Ii={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn,e=n(t);e.convert?this._emitValue(e.value):this._emitError(t)}},Li=q("errorsToValues",Ii),Mi=B("errorsToValues",Ii),Hi=function(t){return{convert:!0,value:t}},Fi={_handleError:function(t){this._emitError(t),this._emitEnd()}},Wi=q("endOnError",Fi),Di=B("endOnError",Fi);p.prototype.toProperty=function(t){return z(this,t)},p.prototype.changes=function(){return Y(this)},p.prototype.toPromise=function(t){return X(this,t)},p.prototype.toESObservable=J,p.prototype[Vn]=J,p.prototype.map=function(t){return et(this,t)},p.prototype.filter=function(t){return it(this,t)},p.prototype.take=function(t){return rt(this,t)},p.prototype.takeErrors=function(t){return ot(this,t)},p.prototype.takeWhile=function(t){return st(this,t)},p.prototype.last=function(){return ut(this)},p.prototype.skip=function(t){return at(this,t)},p.prototype.skipWhile=function(t){return ht(this,t)},p.prototype.skipDuplicates=function(t){return lt(this,t)},p.prototype.diff=function(t,n){return ct(this,t,n)},p.prototype.scan=function(t,n){return _t(this,t,n)},p.prototype.flatten=function(t){return dt(this,t)},p.prototype.delay=function(t){return vt(this,t)},p.prototype.throttle=function(t,n){return mt(this,t,n)},p.prototype.debounce=function(t,n){return pt(this,t,n)},p.prototype.mapErrors=function(t){return yt(this,t)},p.prototype.filterErrors=function(t){return gt(this,t)},p.prototype.ignoreValues=function(){return bt(this)},p.prototype.ignoreErrors=function(){return Et(this)},p.prototype.ignoreEnd=function(){return wt(this)},p.prototype.beforeEnd=function(t){return St(this,t)},p.prototype.slidingWindow=function(t,n){return At(this,t,n)},p.prototype.bufferWhile=function(t,n){return Vt(this,t,n)},p.prototype.bufferWithCount=function(t,n){return Tt(this,t,n)},p.prototype.bufferWithTimeOrCount=function(t,n,e){return xt(this,t,n,e)},p.prototype.transduce=function(t){return Ct(this,t)},p.prototype.withHandler=function(t){return Ot(this,t)},p.prototype.combine=function(t,n){return nt([this,t],n)},p.prototype.zip=function(t,n){return Pt([this,t],n)},p.prototype.merge=function(t){return Mt([this,t])},p.prototype.concat=function(t){return Wt([this,t])};var ji=function(){return new Dt};p.prototype.flatMap=function(t){return new jt(this,t).setName(this,"flatMap")},p.prototype.flatMapLatest=function(t){return new jt(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},p.prototype.flatMapFirst=function(t){return new jt(this,t,{concurLim:1}).setName(this,"flatMapFirst")},p.prototype.flatMapConcat=function(t){return new jt(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},p.prototype.flatMapConcurLimit=function(t,n){return new jt(this,t,{queueLim:-1,concurLim:n}).setName(this,"flatMapConcurLimit")},p.prototype.flatMapErrors=function(t){return new Nt(this,t).setName(this,"flatMapErrors")},p.prototype.filterBy=function(t){return Ut(this,t)},p.prototype.sampledBy=function(t,n){return Qt(this,t,n)},p.prototype.skipUntilBy=function(t){return Xt(this,t)},p.prototype.takeUntilBy=function(t){return Zt(this,t)},p.prototype.bufferBy=function(t,n){return Kt(this,t,n)},p.prototype.bufferWhileBy=function(t,n){return Gt(this,t,n)};var Ni=!0;p.prototype.awaiting=function(t){return rn("You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145"),Jt(this,t)},p.prototype.valuesToErrors=function(t){return rn("You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149"),Rt(this,t)},p.prototype.errorsToValues=function(t){return rn("You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149"),tn(this,t)},p.prototype.endOnError=function(){return rn("You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150"),nn(this)};var qi={Observable:p,Stream:y,Property:g,never:b,later:w,interval:S,sequentially:A,fromPoll:V,withInterval:x,fromCallback:O,fromNodeCallback:$,fromEvents:M,stream:C,constant:F,constantError:D,fromPromise:U,fromESObservable:K,combine:nt,zip:Pt,merge:Mt,concat:Wt,Pool:Dt,pool:ji,repeat:Ft,staticLand:xn};qi.Kefir=qi,n.dissableDeprecationWarnings=en,n.Kefir=qi,n.Observable=p,n.Stream=y,n.Property=g,n.never=b,n.later=w,n.interval=S,n.sequentially=A,n.fromPoll=V,n.withInterval=x,n.fromCallback=O,n.fromNodeCallback=$,n.fromEvents=M,n.stream=C,n.constant=F,n.constantError=D,n.fromPromise=U,n.fromESObservable=K,n.combine=nt,n.zip=Pt,n.merge=Mt,n.concat=Wt,n.Pool=Dt,n.pool=ji,n.repeat=Ft,n.staticLand=xn,n.default=qi,Object.defineProperty(n,"__esModule",{value:!0})})}).call(n,function(){return this}())}])});